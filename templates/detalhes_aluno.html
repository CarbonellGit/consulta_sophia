{% extends "layout_base.html" %}

{% block title %}{{ aluno_nome }} - Detalhes{% endblock %}

{% block content %}
<div class="page-title-container">
    </div>

<div class="info-card">
    <div class="card-header">
        <i class="bi bi-people-fill card-icon"></i>
        <h3>Pessoas Autorizadas</h3>
    </div>
    <ul class="person-list">

        {% if pais_e_maes %}
        <li class="person-list-header">Responsáveis Diretos (Pai e Mãe)</li>
        {% for pessoa in pais_e_maes %}
        <li class="person-item">
            {% if pessoa.foto_uri %}
                <img src="{{ pessoa.foto_uri }}" class="avatar" alt="Foto de {{ pessoa.nome }}">
            {% else %}
                <div class="avatar-placeholder"><i class="bi bi-person-fill"></i></div>
            {% endif %}
            <div class="person-info">
                <span class="person-name">{{ pessoa.nome }}</span>
                <div class="person-details-group">
                    {% if pessoa.tipoVinculo.descricao %}
                    <span class="person-detail"><i class="bi bi-person-badge-fill"></i>{{ pessoa.tipoVinculo.descricao }}</span>
                    {% endif %}
                    {% if pessoa.cpf %}
                    <span class="person-detail"><i class="bi bi-person-vcard"></i>{{ pessoa.cpf }}</span>
                    {% endif %}
                    {% if pessoa.telefone %}
                    <span class="person-detail"><i class="bi bi-telephone-fill"></i>{{ pessoa.telefone }}</span>
                    {% endif %}
                </div>
            </div>
        </li>
        {% endfor %}
        {% endif %}

        {% if outras_pessoas %}
        <li class="person-list-header">Outras Pessoas Autorizadas</li>
        {% for pessoa in outras_pessoas %}
        <li class="person-item">
            {% if pessoa.foto_uri %}
                <img src="{{ pessoa.foto_uri }}" class="avatar" alt="Foto de {{ pessoa.nome }}">
            {% else %}
                <div class="avatar-placeholder"><i class="bi bi-person-fill"></i></div>
            {% endif %}
            <div class="person-info">
                <span class="person-name">{{ pessoa.nome }}</span>
                <div class="person-details-group">
                    {% if pessoa.rg %}
                    <span class="person-detail"><i class="bi bi-person-vcard"></i>{{ pessoa.rg }}</span>
                    {% endif %}
                    {% if pessoa.contato or pessoa.telefone %}
                    <span class="person-detail"><i class="bi bi-telephone-fill"></i>{{ pessoa.contato or pessoa.telefone }}</span>
                    {% endif %}
                </div>
            </div>
        </li>
        {% endfor %}
        {% endif %}

        {% if not pais_e_maes and not outras_pessoas %}
        <li class="person-item-empty">Nenhuma pessoa autorizada encontrada.</li>
        {% endif %}
    </ul>
</div>

<div class="info-card">
    </div>
{% endblock %}
